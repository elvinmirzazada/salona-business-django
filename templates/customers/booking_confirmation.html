<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmed - {{ company_name }}</title>
    {% load static %}
    <link rel="icon" type="image/png" href="{% static 'images/salona-icon.png' %}">
    <link rel="stylesheet" href="{% static 'css/booking_confirmation.css' %}">
</head>
<body>
    <!-- Confetti Animation -->
    <div class="confetti-container" id="confetti-container"></div>

    <div class="confirmation-container">
        <!-- Success Icon -->
        <div class="success-icon-wrapper">
            <div class="success-icon">
                <svg viewBox="0 0 52 52">
                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark" d="M14 27l7.5 7.5L38 18"/>
                </svg>
            </div>
        </div>

        <!-- Confirmation Card -->
        <div class="confirmation-card">
            <h1 class="confirmation-title">üéâ Booking Scheduled!</h1>
            <p class="confirmation-subtitle">
                Thank you for choosing us! We're excited to see you soon.<br>
                A confirmation email has been sent to <strong>{{ customer_email }}</strong>
            </p>

            <!-- Booking Details -->
            <div class="booking-details">
                <div class="detail-row">
                    <div class="detail-label">
                        <span class="detail-label-icon">üìã</span>
                        Services
                    </div>
                    <div class="detail-value">
                        <ul class="service-list">
                            {% for service in services %}
                            <li class="service-item">
                                <div class="service-name">{{ service.name }}</div>
                                <div class="service-meta">{{ service.duration }} min ‚Ä¢ ‚Ç¨{{ service.price }}</div>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">
                        <span class="detail-label-icon">üë§</span>
                        Professional
                    </div>
                    <div class="detail-value">{{ professional_name }}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">
                        <span class="detail-label-icon">üìÖ</span>
                        Date & Time
                    </div>
                    <div class="detail-value">
                        {{ booking_date|date:"l, F j, Y" }}<br>
                        <span style="font-size: 1.125rem; color: var(--primary-color);">{{ booking_time }}</span>
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">
                        <span class="detail-label-icon">üí∞</span>
                        Total
                    </div>
                    <div class="detail-value" style="font-size: 1.5rem; color: var(--primary-color);">
                        ‚Ç¨{{ total_price }}
                    </div>
                </div>
            </div>

            <!-- Venue Information -->
            <div class="venue-info">
                <div class="venue-title">
                    <span class="venue-title-icon">üìç</span>
                    Where to find us
                </div>
                <div class="venue-address">
                    <div class="venue-address-line">
                        <span class="address-icon">üè¢</span>
                        <strong>{{ company_name }}</strong>
                    </div>
                    <div class="venue-address-line">
                        <span class="address-icon">üìç</span>
                        {{ venue_address|default:"Address not available" }}
                    </div>
                    {% if venue_city and venue_postal_code %}
                    <div class="venue-address-line">
                        <span class="address-icon">üó∫Ô∏è</span>
                        {{ venue_postal_code }} {{ venue_city }}
                    </div>
                    {% endif %}
                    {% if venue_phone %}
                    <div class="venue-address-line">
                        <span class="address-icon">üìû</span>
                        {{ venue_phone }}
                    </div>
                    {% endif %}
                </div>
                {% if venue_maps_link %}
                <a href="{{ venue_maps_link }}" target="_blank" class="map-link">
                    <span>üìç</span>
                    <span>Open in Google Maps</span>
                </a>
                {% endif %}
            </div>

            <!-- Additional Info -->
            <div class="additional-info">
                <div class="info-title">
                    <span>‚ÑπÔ∏è</span>
                    Important Information
                </div>
                <ul class="info-list">
                    <li>Please arrive 5-10 minutes before your appointment</li>
                    <li>If you need to cancel or reschedule, please contact us at least 24 hours in advance</li>
                    <li>A confirmation email with all details has been sent to you</li>
                    <li>Feel free to contact us if you have any questions</li>
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="/" class="btn btn-primary">
                    <span>üè†</span>
                    <span>Back to Home</span>
                </a>
                <button onclick="window.print()" class="btn btn-secondary">
                    <span>üñ®Ô∏è</span>
                    <span>Print Confirmation</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Confetti animation
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#6366f1', '#8b5cf6', '#10b981', '#f59e0b', '#ec4899'];
            const confettiCount = 50;

            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    container.appendChild(confetti);

                    // Remove confetti after animation
                    setTimeout(() => {
                        confetti.remove();
                    }, 3500);
                }, i * 30);
            }
        }

        // Trigger confetti on page load
        window.addEventListener('load', () => {
            setTimeout(createConfetti, 500);
        });
    </script>
</body>
</html>
