<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/static/js/auth.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/static/js/auth.js" />
              <option name="originalContent" value="// Login functionality&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    const loginForm = document.getElementById('login-form');&#10;&#10;    if (loginForm) {&#10;        loginForm.addEventListener('submit', function(e) {&#10;            e.preventDefault();&#10;&#10;            const email = document.getElementById('email').value;&#10;            const password = document.getElementById('password').value;&#10;            const errorDiv = document.getElementById('error-message');&#10;&#10;            // Clear any previous error messages&#10;            errorDiv.style.display = 'none';&#10;            errorDiv.textContent = '';&#10;&#10;            // Make API call to login endpoint&#10;            fetch('http://127.0.0.1:8000/api/v1/users/auth/login', {&#10;                method: 'POST',&#10;                headers: {&#10;                    'Content-Type': 'application/json',&#10;                    'Accept': 'application/json'&#10;                },&#10;                mode: 'cors', // Explicitly set CORS mode&#10;                body: JSON.stringify({&#10;                    email: email,&#10;                    password: password&#10;                })&#10;                // Remove credentials: 'include' to avoid preflight complexity&#10;            })&#10;            .then(response =&gt; response.json())&#10;            .then(data =&gt; {&#10;                if (data.success) {&#10;                    // Store access token in localStorage for later use&#10;                    localStorage.setItem('accessToken', data.data.access_token);&#10;                    localStorage.setItem('tokenType', data.data.token_type);&#10;                    localStorage.setItem('tokenExpiresIn', Date.now() + (data.data.expires_in * 1000));&#10;&#10;                    // Redirect to dashboard or home page&#10;                    window.location.href = '/dashboard/';&#10;                } else {&#10;                    // Display error message&#10;                    errorDiv.textContent = data.message || 'Login failed. Please check your credentials.';&#10;                    errorDiv.style.display = 'block';&#10;                }&#10;            })&#10;            .catch(error =&gt; {&#10;                errorDiv.textContent = 'An error occurred. Please try again later.';&#10;                errorDiv.style.display = 'block';&#10;                console.error('Login error:', error);&#10;            });&#10;        });&#10;    }&#10;});&#10;" />
              <option name="updatedContent" value="// Login functionality&#10;document.addEventListener('DOMContentLoaded', function() {&#10;    const loginForm = document.getElementById('login-form');&#10;&#10;    if (loginForm) {&#10;        loginForm.addEventListener('submit', function(e) {&#10;            e.preventDefault();&#10;&#10;            const email = document.getElementById('email').value;&#10;            const password = document.getElementById('password').value;&#10;            const errorDiv = document.getElementById('error-message');&#10;&#10;            // Clear any previous error messages&#10;            errorDiv.style.display = 'none';&#10;            errorDiv.textContent = '';&#10;&#10;            // Make API call to login endpoint&#10;            fetch('http://127.0.0.1:8000/api/v1/users/auth/login', {&#10;                method: 'POST',&#10;                headers: {&#10;                    'Content-Type': 'application/json',&#10;                    'Accept': 'application/json'&#10;                },&#10;                mode: 'cors', // Explicitly set CORS mode&#10;                body: JSON.stringify({&#10;                    email: email,&#10;                    password: password&#10;                })&#10;                // Remove credentials: 'include' to avoid preflight complexity&#10;            })&#10;            .then(response =&gt; response.json())&#10;            .then(data =&gt; {&#10;                if (data.success) {&#10;                    // Store access token in localStorage for later use&#10;                    localStorage.setItem('accessToken', data.data.access_token);&#10;                    localStorage.setItem('tokenType', data.data.token_type);&#10;                    localStorage.setItem('tokenExpiresIn', Date.now() + (data.data.expires_in * 1000));&#10;&#10;                    // Redirect to dashboard or home page&#10;                    window.location.href = '/dashboard/';&#10;                } else {&#10;                    // Display error message&#10;                    errorDiv.textContent = data.message || 'Login failed. Please check your credentials.';&#10;                    errorDiv.style.display = 'block';&#10;                }&#10;            })&#10;            .catch(error =&gt; {&#10;                errorDiv.textContent = 'An error occurred. Please try again later.';&#10;                errorDiv.style.display = 'block';&#10;                console.error('Login error:', error);&#10;            });&#10;        });&#10;    }&#10;});" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>